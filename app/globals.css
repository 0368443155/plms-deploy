@tailwind base;
@tailwind components;
@tailwind utilities;

html,
body,
:root {
  height: 100%;
}

@layer base {
  :root {
    --background: 0 0% 100%;
    --foreground: 0 0% 3.9%;

    --card: 0 0% 100%;
    --card-foreground: 0 0% 3.9%;

    --popover: 0 0% 100%;
    --popover-foreground: 0 0% 3.9%;

    --primary: 0 0% 9%;
    --primary-foreground: 0 0% 98%;

    --secondary: 0 0% 96.1%;
    --secondary-foreground: 0 0% 9%;

    --muted: 0 0% 96.1%;
    --muted-foreground: 0 0% 45.1%;

    --accent: 0 0% 96.1%;
    --accent-foreground: 0 0% 9%;

    --destructive: 0 84.2% 60.2%;
    --destructive-foreground: 0 0% 98%;

    --border: 0 0% 89.8%;
    --input: 0 0% 89.8%;
    --ring: 0 0% 3.9%;

    --radius: 0.5rem;
  }

  .dark {
    --background: 0 0% 3.9%;
    --foreground: 0 0% 98%;

    --card: 0 0% 3.9%;
    --card-foreground: 0 0% 98%;

    --popover: 0 0% 3.9%;
    --popover-foreground: 0 0% 98%;

    --primary: 0 0% 98%;
    --primary-foreground: 0 0% 9%;

    --secondary: 0 0% 14.9%;
    --secondary-foreground: 0 0% 98%;

    --muted: 0 0% 14.9%;
    --muted-foreground: 0 0% 63.9%;

    --accent: 0 0% 14.9%;
    --accent-foreground: 0 0% 98%;

    --destructive: 0 62.8% 30.6%;
    --destructive-foreground: 0 0% 98%;

    --border: 0 0% 14.9%;
    --input: 0 0% 14.9%;
    --ring: 0 0% 83.1%;
  }
}

@layer base {
  * {
    @apply border-border;
  }

  body {
    @apply bg-background text-foreground;
  }
}

/* Hide browser's default password reveal button */
input[type="password"]::-ms-reveal,
input[type="password"]::-ms-clear {
  display: none;
}

input[type="password"]::-webkit-credentials-auto-fill-button,
input[type="password"]::-webkit-contacts-auto-fill-button {
  visibility: hidden;
  pointer-events: none;
  position: absolute;
  right: 0;
}

/* Force time input to use 24-hour format */
input[type="time"]::-webkit-calendar-picker-indicator {
  filter: invert(0.5);
}

input[type="time"]::-webkit-datetime-edit-ampm-field {
  display: none;
}

input[type="time"] {
  -webkit-appearance: textfield;
  -moz-appearance: textfield;
  appearance: textfield;
}

/* Table cell text wrapping - prevent layout breaking */
table td,
table th {
  word-wrap: break-word;
  word-break: break-word;
  overflow-wrap: break-word;
  white-space: normal;
}

/* Ensure input fields in tables don't overflow */
table td input,
table td textarea,
table td select {
  max-width: 100%;
  box-sizing: border-box;
}


/* Study Mode Styles - Distraction-free reading */
.study-mode {
  /* Hide sidebar when study mode is active */
}

.study-mode~* aside,
.study-mode~* nav {
  display: none !important;
}

/* Study mode full-screen content */
.study-mode .study-mode-content {
  position: fixed;
  top: 0;
  left: 0;
  right: 0;
  bottom: 0;
  z-index: 9999;
  background: var(--background);
  overflow-y: auto;
  padding: 2rem;
}

/* Document Block Preview Styles */
.document-block-container {
  @apply w-full overflow-hidden rounded-xl border border-slate-200 dark:border-slate-700;
  @apply bg-white dark:bg-slate-900 shadow-sm;
  @apply transition-shadow duration-200;
}

.document-block-container:hover {
  @apply shadow-md;
}

/* Document preview header */
.document-preview-header {
  @apply flex items-center justify-between px-4 py-3;
  @apply bg-gradient-to-r from-slate-100 to-slate-50;
  @apply dark:from-slate-800 dark:to-slate-900;
  @apply border-b border-slate-200 dark:border-slate-700;
}

/* Document preview content area */
.document-preview-content {
  @apply relative bg-slate-100 dark:bg-slate-800;
  @apply transition-all duration-300 ease-in-out;
}

/* Responsive document preview heights */
.document-preview-collapsed {
  height: 200px;
}

.document-preview-expanded {
  height: 500px;
}

@media (max-width: 768px) {
  .document-preview-collapsed {
    height: 150px;
  }

  .document-preview-expanded {
    height: 400px;
  }
}

@media (max-width: 480px) {
  .document-preview-collapsed {
    height: 120px;
  }

  .document-preview-expanded {
    height: 300px;
  }
}

/* PDF canvas styling */
.pdf-canvas-container {
  @apply flex justify-center items-start overflow-auto p-4;
  @apply bg-slate-100 dark:bg-slate-800;
}

.pdf-canvas-container canvas {
  @apply shadow-lg bg-white;
}

/* Document type badges */
.document-type-badge {
  @apply inline-flex items-center px-2 py-0.5 rounded-full text-xs font-medium;
}

.document-type-badge.pdf {
  @apply bg-red-100 text-red-800 dark:bg-red-900/40 dark:text-red-300;
}

.document-type-badge.word {
  @apply bg-blue-100 text-blue-800 dark:bg-blue-900/40 dark:text-blue-300;
}

.document-type-badge.excel {
  @apply bg-green-100 text-green-800 dark:bg-green-900/40 dark:text-green-300;
}

.document-type-badge.powerpoint {
  @apply bg-orange-100 text-orange-800 dark:bg-orange-900/40 dark:text-orange-300;
}

.document-type-badge.image {
  @apply bg-purple-100 text-purple-800 dark:bg-purple-900/40 dark:text-purple-300;
}

/* File upload dropzone styles */
.file-dropzone {
  @apply border-2 border-dashed border-slate-300 dark:border-slate-600;
  @apply rounded-xl bg-slate-50 dark:bg-slate-900;
  @apply transition-all duration-200;
}

.file-dropzone.active {
  @apply border-blue-400 bg-blue-50 dark:bg-blue-900/20;
}

.file-dropzone:hover {
  @apply bg-slate-100 dark:bg-slate-800;
}

/* Upload progress bar */
.upload-progress-bar {
  @apply h-2 bg-slate-200 dark:bg-slate-700 rounded-full overflow-hidden;
}

.upload-progress-fill {
  @apply h-full bg-blue-500 transition-all duration-300;
}

/* Fullscreen document modal */
.document-fullscreen-modal {
  @apply fixed inset-0 z-50 bg-black/90;
  @apply flex flex-col;
}

.document-fullscreen-content {
  @apply flex-1 overflow-hidden;
}

/* Smooth animations */
@keyframes fadeIn {
  from {
    opacity: 0;
    transform: translateY(10px);
  }

  to {
    opacity: 1;
    transform: translateY(0);
  }
}

.document-block-container {
  animation: fadeIn 0.3s ease-out;
}

/* Editor toolbar styles */
.editor-toolbar {
  @apply flex items-center gap-2 p-2;
  @apply bg-slate-100 dark:bg-slate-800 rounded-lg;
  @apply border border-slate-200 dark:border-slate-700;
}

.editor-toolbar-button {
  @apply px-3 py-2 rounded-lg transition-all;
  @apply flex items-center gap-2 text-sm font-medium;
  @apply text-slate-600 dark:text-slate-400;
  @apply hover:bg-slate-200 dark:hover:bg-slate-700;
}

.editor-toolbar-button.active {
  @apply bg-blue-100 dark:bg-blue-900/40 text-blue-600;
}